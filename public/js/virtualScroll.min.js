!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.virtualScroll=t():e.virtualScroll=t()}(self,(()=>(()=>{var e={502:e=>{e.exports={throttle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];n||(n=setTimeout((function(){e.apply(void 0,r),n=null}),t))}},debounce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=null;return function(){for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,r)}),t)}},wait:function(e){return new Promise((function(t,n){setTimeout((function(){return t()}),e)}))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{handleVirtualScroll:()=>r});var e,t=n(502).throttle;function r(n){var o=100,r=document.getElementById("virtualScrollArea"),c=r.getBoundingClientRect().y;function l(e,t,n){document.getElementById("displayArea").innerHTML=e.slice(t,t+n).reduce((function(e,n,r){var c=(t+r)%2==0;return e+'\n        <div class="row px-2" data-record-id="'.concat(n.id,'" id="scrollItem').concat(r,'" style="height:').concat(o,"px;").concat(c?"background-color:rgb(241, 241, 241)":"",'">\n          <div class="col-2 d-flex justify-content-end align-items-center pa-0" style="color: rgb(162, 225, 233);">\n            <i class="').concat(n.categoryIcon,'" style="font-size: 56px"></i>\n          </div>\n          <div class="col-10 d-flex justify-content-between align-items-center"">\n            <div class="p-2">\n              <div class="fs-3 fw-bold">').concat(n.name,'</div>\n              <div class="fs-5">').concat(n.date,'</div>\n            </div>\n            <span class="fs-4 me-2">').concat(n.amount.toLocaleString("zh-hant"),"</span>\n          </div>\n        </div>\n      ")}),"")}function a(){if(document.getElementById("scrollItem0"))for(var e=document.getElementById("scrollItem0").getBoundingClientRect().y+50,t=e>c?0:e+100>c?1:2,o=t+Math.min(n.length,5),r=0,l=function(){var e=document.getElementById("scrollItem".concat(a)).dataset.recordId,t=n.findIndex((function(t){return t.id===Number(e)}));document.getElementById("edit-btn-".concat(r)).setAttribute("href","/records/".concat(e,"/edit")),document.getElementById("deleteForm".concat(r)).setAttribute("action","/records/".concat(e,"?_method=DELETE")),document.getElementById("deleteForm".concat(r)).dataset.recordInfo="[".concat(n[t].date,"] ").concat(n[t].name," $").concat(n[t].amount),r++},a=t;a<o;a++)l()}e&&r.removeEventListener("scroll",e),document.getElementById("virtualScrollArea").scrollTop=0,r.style.height="".concat(500,"px"),document.getElementById("recordsContainer").style.height="".concat(n.length*o,"px"),l(n,0,9),a(),e=t((function(e){var t=Math.max(Math.ceil(e.target.scrollTop/o)-2,0),r=Math.min(Math.ceil(5)+4,n.length-t),c=t*o;document.getElementById("displayArea").style.transform="translateY(".concat(c,"px)"),l(n,t,r),a()})),r.addEventListener("scroll",e)}})(),o})()));