!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.virtualScroll=e():t.virtualScroll=e()}(self,(()=>(()=>{var t={502:t=>{t.exports={throttle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];n||(n=setTimeout((function(){t.apply(void 0,o),n=null}),e))}},debounce:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=null;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];clearTimeout(n),n=setTimeout((function(){t.apply(void 0,o)}),e)}},wait:function(t){return new Promise((function(e,n){setTimeout((function(){return e()}),t)}))}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(r)?r:String(r)),o)}var r}function o(t,e){a(t,e),e.add(t)}function r(t,e,n){a(t,e),e.set(t,n)}function a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function l(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,h(t,e,"get"))}function c(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,h(t,e,"set"),n),n}function h(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}n.r(i),n.d(i,{VShandler:()=>E});var u=n(502).throttle,d=new WeakMap,f=new WeakMap,v=new WeakMap,p=new WeakMap,y=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,S=new WeakSet,x=new WeakSet,M=new WeakSet,E=function(){function t(e,n,i,a,h,E,T){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,M),o(this,x),o(this,S),r(this,d,{writable:!0,value:void 0}),r(this,f,{writable:!0,value:void 0}),r(this,v,{writable:!0,value:void 0}),r(this,p,{writable:!0,value:void 0}),r(this,y,{writable:!0,value:void 0}),r(this,m,{writable:!0,value:void 0}),r(this,b,{writable:!0,value:void 0}),r(this,w,{writable:!0,value:void 0}),r(this,g,{writable:!0,value:void 0}),c(this,d,e),c(this,f,document.getElementById(n)),c(this,v,document.getElementById(i)),c(this,p,document.getElementById(a)),void 0===l(this,d)||!(l(this,d)instanceof Array)||void 0===l(this,f)||void 0===l(this,v)||void 0===l(this,p))throw new Error("Invalid parameters for virtual scroll");c(this,y,h||500),c(this,m,E||5),c(this,b,l(this,y)/l(this,m)),c(this,w,T||2),l(this,f).style.height="".concat(l(this,y),"px"),l(this,v).style.height="".concat(l(this,d).length*l(this,b),"px"),c(this,g,l(this,f).getBoundingClientRect().y),l(this,f).addEventListener("scroll",u(s(this,M,j).bind(this)))}var n,i;return n=t,(i=[{key:"handleScrollContentChange",value:function(t){c(this,d,t),l(this,v).style.height="".concat(l(this,d).length*l(this,b),"px"),l(this,f).scrollTop=0,s(this,S,T).call(this,0,l(this,m)+2*l(this,w)),s(this,x,k).call(this)}}])&&e(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function T(t,e){var n=this;l(this,p).innerHTML=l(this,d).slice(t,t+e).reduce((function(e,i,o){var r=(t+o)%2==0;return e+'\n        <div class="row px-2" data-record-id="'.concat(i.id,'" id="scrollItem').concat(o,'" style="height:').concat(l(n,b),"px;").concat(r?"background-color:rgb(241, 241, 241)":"",'">\n          <div class="col-2 d-flex justify-content-end align-items-center pa-0" style="color: rgb(162, 225, 233);">\n            <i class="').concat(i.categoryIcon,'" style="font-size: 56px"></i>\n          </div>\n          <div class="col-10 d-flex justify-content-between align-items-center"">\n            <div class="p-2">\n              <div class="fs-3 fw-bold">').concat(i.name,'</div>\n              <div class="fs-5">').concat(i.date,'</div>\n            </div>\n            <span class="fs-4 me-2">').concat(i.amount.toLocaleString("zh-hant"),"</span>\n          </div>\n        </div>\n      ")}),"")}function k(){var t=this;if(l(this,p).children.length)for(var e=l(this,p).children[0].getBoundingClientRect().y+(l(this,b)>>1),n=e>l(this,g)?0:e+100>l(this,g)?1:2,i=n+Math.min(l(this,d).length,5),o=0,r=function(){var e=l(t,p).children[a].dataset.recordId,n=l(t,d).findIndex((function(t){return t.id===Number(e)})),i=document.getElementById("editBtn".concat(o)),r=document.getElementById("deleteForm".concat(o));i.setAttribute("href","/records/".concat(e,"/edit")),r.setAttribute("action","/records/".concat(e,"?_method=DELETE")),r.dataset.recordInfo="[".concat(l(t,d)[n].date,"] ").concat(l(t,d)[n].name," $").concat(l(t,d)[n].amount),o++},a=n;a<i;a++)r()}function j(t){var e=Math.max(Math.ceil(t.target.scrollTop/l(this,b))-l(this,w),0),n=Math.min(Math.ceil(l(this,y)/l(this,b))+2*l(this,w),l(this,d).length-e),i=e*l(this,b);l(this,p).style.transform="translateY(".concat(i,"px)"),s(this,S,T).call(this,e,n),s(this,x,k).call(this)}})(),i})()));