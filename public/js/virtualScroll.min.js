!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.virtualScroll=e():t.virtualScroll=e()}(self,(()=>(()=>{"use strict";var t={502:(t,e,n)=>{function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n||(n=setTimeout((function(){t.apply(void 0,i),n=null}),e))}}n.d(e,{throttle:()=>r})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{VShandler:()=>I});var t=n(502);function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,o=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===e(o)?o:String(o)),i)}var o}function l(t,e){s(t,e),e.add(t)}function c(t,e,n){s(t,e),e.set(t,n)}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function f(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,d(t,e,"get"))}function h(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,d(t,e,"set"),n),n}function d(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var v=new WeakMap,y=new WeakMap,p=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,S=new WeakMap,x=new WeakMap,j=new WeakSet,E=new WeakSet,M=new WeakSet,k=new WeakSet,I=function(){function e(n,r,i,o,a,s,d){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,k),l(this,M),l(this,E),l(this,j),c(this,v,{writable:!0,value:void 0}),c(this,y,{writable:!0,value:void 0}),c(this,p,{writable:!0,value:void 0}),c(this,m,{writable:!0,value:void 0}),c(this,b,{writable:!0,value:void 0}),c(this,w,{writable:!0,value:void 0}),c(this,g,{writable:!0,value:void 0}),c(this,S,{writable:!0,value:void 0}),c(this,x,{writable:!0,value:void 0}),h(this,v,n),h(this,y,document.getElementById(r)),h(this,p,document.getElementById(i)),h(this,m,document.getElementById(o)),void 0===f(this,v)||!(f(this,v)instanceof Array)||void 0===f(this,y)||void 0===f(this,p)||void 0===f(this,m))throw new Error("Invalid parameters for virtual scroll");h(this,b,a||500),h(this,w,s||5),h(this,g,f(this,b)/f(this,w)),h(this,S,d||10),f(this,y).style.height="".concat(f(this,b),"px"),f(this,p).style.height="".concat(f(this,v).length*f(this,g),"px"),h(this,x,f(this,y).getBoundingClientRect().y),f(this,y).addEventListener("scroll",(0,t.throttle)(u(this,k,O).bind(this)))}var n,r;return n=e,(r=[{key:"handleScrollContentChange",value:function(t){h(this,v,t),f(this,p).style.height="".concat(f(this,v).length*f(this,g),"px"),f(this,y).scrollTop=0,u(this,j,T).call(this,0,f(this,w)+2*f(this,S)),u(this,M,W).call(this)}}])&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function T(t,e){var n=this;f(this,m).innerHTML=f(this,v).slice(t,t+e).reduce((function(e,r,i){var o=(t+i)%2==0;return e+'\n        <div class="row px-2" data-record-id="'.concat(r.id,'" id="scrollItem').concat(i,'" style="height:').concat(f(n,g),"px;").concat(o?"background-color:rgb(241, 241, 241)":"",'">\n          <div class="col-2 d-flex justify-content-end align-items-center pa-0" style="color: rgb(162, 225, 233);">\n            <i class="').concat(r.categoryIcon,'" style="font-size: 56px"></i>\n          </div>\n          <div class="col-10 d-flex justify-content-between align-items-center"">\n            <div class="p-2">\n              <div class="fs-3 fw-bold">').concat(r.name,'</div>\n              <div class="fs-5">').concat(r.date,'</div>\n            </div>\n            <span class="fs-4 me-2">').concat(r.amount.toLocaleString("zh-Hant"),"</span>\n          </div>\n        </div>\n      ")}),"")}function A(){var t,e,n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}(Array.from(f(this,m).children).entries());try{for(r.s();!(t=r.n()).done;){var o=(e=t.value,n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,n)||i(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0];if(o[1].getBoundingClientRect().y+.3*f(this,g)>f(this,x))return a}}catch(t){r.e(t)}finally{r.f()}return 0}function W(){for(var t=this,e=u(this,E,A).call(this),n=e+Math.min(f(this,v).length,5),r=0,i=function(){var e=f(t,m).children[o].dataset.recordId,n=f(t,v).findIndex((function(t){return t.id===Number(e)})),i=document.getElementById("editBtn".concat(r)),a=document.getElementById("deleteForm".concat(r));i.setAttribute("href","/records/".concat(e,"/edit")),a.setAttribute("action","/records/".concat(e,"?_method=DELETE")),a.dataset.recordInfo="[".concat(f(t,v)[n].date,"] ").concat(f(t,v)[n].name," $").concat(f(t,v)[n].amount),r++},o=e;o<n;o++)i()}function O(t){var e=Math.max(Math.ceil(t.target.scrollTop/f(this,g))-f(this,S),0),n=Math.min(Math.ceil(f(this,b)/f(this,g))+2*f(this,S),f(this,v).length-e),r=e*f(this,g);f(this,m).style.transform="translateY(".concat(r,"px)"),u(this,j,T).call(this,e,n),u(this,M,W).call(this)}})(),r})()));